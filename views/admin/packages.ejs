<%- include("navbar.ejs") %>
<h1 class="text-center my-4">Packages Management</h1>

<!-- images and details for managing travel packages will go here.
title and description of packages can be added, edited, or deleted.
description of each package will be displayed here.
day and night details of each package will be shown.
location 
price of each package will be listed. 
active status of each package can be toggled. -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin | Manage Travel Packages</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5 mb-5">
    <div class="card shadow">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Add / Edit Travel Package</h4>
        </div>

        <div class="card-body">
<form action="/admin/packages" method="POST" enctype="multipart/form-data">

                <!-- Package Title -->
                <div class="mb-3">
                    <label class="form-label">Package Title</label>
                    <input type="text" name="package_title" class="form-control" required>
                </div>

                <!-- Short Description -->
                <div class="mb-3">
                    <label class="form-label">Short Description</label>
                    <textarea name="short_description" class="form-control" rows="2" required></textarea>
                </div>

            

                <!-- Day & Night Details -->
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Total Days</label>
                        <input type="number" name="total_days" class="form-control" min="1" required>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Total Nights</label>
                        <input type="number" name="total_nights" class="form-control" min="0" required>
                    </div>
                </div>

             

                <!-- Location -->
                <div class="mb-3">
                    <label class="form-label">Location</label>
                    <input type="text" name="location" class="form-control" required>
                </div>

                 <!-- dublicate Price -->
                <div class="mb-3">
                    <label class="form-label">dublicate Price (₹)</label>
                    <input type="number" name="dublicate_price" class="form-control" required>
                </div>

                <!-- Price -->
                <div class="mb-3">
                    <label class="form-label">Package Price (₹)</label>
                    <input type="number" name="price" class="form-control" required>
                </div>

                <!-- Package Image -->
                <div class="mb-3">
                    <label class="form-label">Package Image</label>
                    <input type="file" name="package_image" class="form-control">
                </div>

                <!-- Active Status -->
                <div class="form-check form-switch mb-4">
                    <input class="form-check-input" type="checkbox" name="status" value="1" checked>
                    <label class="form-check-label">Active Package</label>
                </div>

                <!-- Buttons -->
                <div class="d-flex gap-2">
                    <button type="submit" class="btn btn-success">Save Package</button>
                    <a href="/admin/packages" class="btn btn-secondary">Cancel</a>
                </div>

            </form>
            <hr class="my-5">

<h3 class="mb-4 text-center">All Travel Packages</h3>

<div class="table-responsive">
<table class="table table-bordered table-striped align-middle text-center">
    <thead class="table-dark">
        <tr>
            <th> Sr.No </th>
            <th>Image</th>
            <th>Title</th>
            <th>Days</th>
            <th>Nights</th>
            <th>Location</th>
            <th>Old Price</th>
            <th>Price</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        <% packages.forEach((package, index) => { %>
        <tr>
            <td><%= index + 1 %></td>
            <td>
                <img src="/assets/images/<%= package.package_image %>" alt="Package Image" style="width: 100px; height: auto; border-radius: 5px;">
            </td>
            <td><%= package.package_title %></td>
            <td><%= package.total_days %> </td>
            <td><%= package.total_nights %></td>
            <td><%= package.location %></td>
            <td>₹<%= package.dublicate_price %></td>
            <td>₹<%= package.price %></td>
            <td>
                <% if (package.status) { %>
                    <span class="badge bg-success">Active</span>
                <% } else { %>
                    <span class="badge bg-secondary">Inactive</span>
                <% } %>
            </td>
            <td>
                <a href="/admin/packages/edit/<%= package.package_id %>" class="btn btn-primary btn-sm mb-1">Edit</a>
                <a href="/admin/packages/delete/<%= package.package_id %>" class="btn btn-danger btn-sm mb-1" onclick="return confirm('Are you sure you want to delete this package?');">Delete</a>
 </td>
        </tr>
        <% }); %>
   
           

   
</table>
</div>

        </div>
    </div>
</div>

</body>
</html>



<%- include("footer.ejs") %>


